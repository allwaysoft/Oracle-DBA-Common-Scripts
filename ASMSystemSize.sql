SELECT dbs.filesystem as Disk_Group,ROUND (SUM (dbs.bytes) / 1024 / 1024, 1) as DB_Actual_Mb, ROUND (SUM (dbs.maxextention) / 1024 / 1024, 1) as DB_Max_Auto_Mb, ROUND (SUM (dbs.maxextention - dbs.bytes) / 1024 / 1024, 1)  as DB_Capacity_Needed_Mb,  MAX (asm.total_mb) as ASM_Total_Mb,   MAX (asm.free_mb) as ASM_Free_Mb,   ROUND((MAX (asm.free_mb))- (SUM (dbs.maxextention - dbs.bytes) / 1024 / 1024),1) as Capacity_Mb FROM v$asm_diskgroup asm,  (SELECT SUBSTR (file_name, 2, INSTR (file_name, '/', 1) - 2)   filesystem, bytes,  DECODE (autoextensible, 'YES', maxbytes, bytes) maxextention FROM dba_data_files   WHERE file_name NOT LIKE '+'  UNION ALL  SELECT SUBSTR (file_name, 2, INSTR (file_name, '/', 1) - 2)    filesystem,   bytes,   DECODE (autoextensible, 'YES', maxbytes, bytes) maxextention FROM dba_temp_files   WHERE file_name NOT LIKE '+'   UNION ALL   SELECT SUBSTR (name, 2, INSTR (name, '/', 1) - 2) filesystem,   block_size * file_size_blks bytes,   block_size * file_size_blks maxextention   FROM v$controlfile   WHERE name LIKE '+%'  UNION ALL  SELECT SUBSTR (MEMBER, 2, INSTR (MEMBER, '/', 1) - 2) filesystem,    bytes,      bytes maxextention  FROM v$logfile lf, v$log l   WHERE MEMBER LIKE '+%' AND lf.group# = l.group#) dbs WHERE asm.name = dbs.filesystem GROUP BY dbs.filesystem ORDER BY dbs.filesystem